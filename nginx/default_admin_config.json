{
  "admin_password": "admin",
  "default_backend": "http://127.0.0.1:8001",
  "rules": [
    {
      "match": { "path_prefix": "/api/ws/" },
      "backend": "http://127.0.0.1:6099",
      "action": "proxy",
      "id": "proxy-api-ws",
      "priority": 200
    },
    {
      "match": { "referer_substr": "webui" },
      "backend": "http://127.0.0.1:6099",
      "action": "proxy",
      "id": "proxy-referer-webui",
      "priority": 195
    },
    {
      "match": { "path_equal": "/webui" },
      "redirect_to": "/webui/",
      "action": "redirect",
      "id": "redirect-webui-slash",
      "priority": 200
    },
    {
      "match": { "referer_substr": "/webui/" },
      "backend": "http://127.0.0.1:6099",
      "action": "proxy",
      "id": "proxy-webui-referer",
      "priority": 190
    },
    {
      "match": { "path_prefix": "/webui/" },
      "set_headers": [
        { "value": "/webui", "name": "X-Forwarded-Prefix" }
      ],
      "backend": "http://127.0.0.1:6099",
      "action": "proxy",
      "id": "proxy-webui",
      "priority": 180
    },
    {
      "match": { "path_equal": "/sync" },
      "redirect_to": "/sync/",
      "action": "redirect",
      "id": "redirect-sync-slash",
      "priority": 200
    },
    {
      "match": { "path_prefix": "/sync/" },
      "set_headers": [
        { "value": "/sync", "name": "X-Forwarded-Prefix" }
      ],
      "backend": "http://127.0.0.1:5321",
      "action": "proxy",
      "id": "proxy-sync",
      "priority": 180
    }
    ,
    {
      "match": { "path_prefix": "/filebrowser/" },
      "set_headers": [
        { "value": "/filebrowser", "name": "X-Forwarded-Prefix" }
      ],
      "backend": "http://127.0.0.1:8888",
      "action": "proxy",
      "id": "proxy-filebrowser",
      "priority": 180
    }
  ]
}

